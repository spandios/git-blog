# 영역

## 네 개의 영역&#x20;

표현, 응용, 도메인, 인프라스터럭처는 아키텍처를 설계할 때 나타나는 전형적인 네 가지 영역이다.&#x20;

### 표현

* 가장 앞 단에서 클라이언트에게 요청을 받아 응용 영역에 전달
* 응용에서의 처리 결과를 다시 클라이언트에게 전달

<figure><img src="../../../.gitbook/assets/스크린샷 2023-02-07 오전 10.36.42.png" alt=""><figcaption><p>HTTP</p></figcaption></figure>

### 응용

* 클라이언트의 요청에 맞는 기능을 구현한다.
* 기능 구현을 위해 도메인 영역의 도메인 모델을 사용한다.
* 로직을 직접 수행하기 보다는 도메인 모델에 위임한다.

```java
public class OrderService {
    public void cancelOrder(String orderId) {
        Order order = findOrderById(String orderId);
        // 도메인 모델을 이용한다.
        order.cancel();
    }
}
```

### 도메인

전 글에서처럼 도메인의 핵심 로직을 구현한다.



### 인프라스트럭처

* 구현에 필요한 기술들을 이 영역에서 다룬다.
* 논리적인 개념을 표현하는 것보다는 실제 구현을 다룬다.
* 도메인, 응용, 표현 영역은 구현 기술을 사용한 코드를 직접 만들지 않으며 인프라스트럭처 영역에 요청하고 사용하면서 기능 개발을 한다.

<figure><img src="../../../.gitbook/assets/스크린샷 2023-02-07 오전 11.07.24.png" alt=""><figcaption></figcaption></figure>



## 계층 구조 아키텍처&#x20;

<figure><img src="../../../.gitbook/assets/스크린샷 2023-02-07 오전 11.15.59.png" alt=""><figcaption></figcaption></figure>

* 위의 네 영역을 구성할 때 많이 사용 되는 구조
* 상위 계층은 하위 계층을 의존한다.
* 하위 계층은 상위 계층에 의존하지 않는다.&#x20;
* 바로 보통 계층 구조는 바로 아래 단계를 의존하지만 필요에 따라 다음 다음의 단계에 의존하는 유연한 구조를 가질 수도 있다. 예를들면 응용 계층에서 인프라스트럭처 계층 서비스를 바로 호출하여 사용하는 경우를 생각할 수 있다.&#x20;

## 문제점

위에서 우리는 상위 계층에서 하위 계층으로 의존성 방향이 이루어지는 계층 구조를 확인했다.

문제는 표현, 응용, 도메인 계층 같은 상위 계층이 어떤 기술에 대해 실제로 구현한 곳이자 저수준 모듈인 하위 계층 인프라스트럭처에 의존한 다는 것이다. 우리는 객체지향 원칙 중 하나에서 이런 방향이 문제가 있다는 것을 알고 있다.



어떤 문제점이 있는지 그리고 어떻게 해결할 수 있을지 다음글에서 살펴보자
